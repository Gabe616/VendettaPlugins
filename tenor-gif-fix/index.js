(function(c,u,d){"use strict";const a=d.findByProps("downloadMediaAsset"),l=d.findByProps("openLazy","hideActionSheet"),f=function(n){const o=n.split("/"),t=o.findIndex(function(y){return y.endsWith(".tenor.com")});if(t===-1)return;const[r,e,i]=o.slice(t,t+3);if(!(!r||!e||!i))return`https://${r}/${e.slice(0,-2)}AC/${i.split(".")[0]}.gif`};let s=[];var p={onLoad:function(){s.push(u.before("downloadMediaAsset",a,function(n){const o=n[0];if(!o||typeof o!="string")return;const t=f(o);t&&(n[0]=t,n[1]=1)})),s.push(u.before("openLazy",l,function(n){const[o,t,r]=n;if(t!=="MediaShareActionSheet")return;const e=r?.syncer?.sources?.[0];if(!e||typeof e.uri!="string")return;const i=f(e.uri);i&&(e.uri=i,e.sourceURI=i,delete e.videoURI,delete e.isGIFV),r.syncer.sources[0]=e}))},onUnload:function(){for(const n of s)n();s=[]}};return c.default=p,Object.defineProperty(c,"__esModule",{value:!0}),c})({},vendetta.patcher,vendetta.metro);
