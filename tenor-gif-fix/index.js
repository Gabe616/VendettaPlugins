(function(c,u,d){"use strict";const a=d.findByProps("downloadMediaAsset"),l=d.findByProps("openLazy","hideActionSheet"),f=function(n){const o=n.split("/"),t=o.findIndex(function(h){return h.endsWith(".tenor.com")});if(t===-1)return;const[s,e,i]=o.slice(t,t+3);if(!(!s||!e||!i))return`https://${s}/${e.slice(0,-2)}AC/${i.split(".")[0]}.gif`};let r=[];var p={onLoad:function(){r.push(u.before("downloadMediaAsset",a,function(n){const o=n[0];if(!o||typeof o!="string")return;const t=f(o);t&&(n[0]=t,n[1]=1)})),r.push(u.before("openLazy",l,function(n){const[o,t,s]=n;if(t!=="MediaShareActionSheet")return;const e=s?.syncer?.sources?.[0];if(!e)return;const i=f(e.uri);i&&(e.uri=i,e.sourceURI=i,delete e.videoURI,delete e.isGIFV),s.syncer.sources[0]=e}))},onUnload:function(){for(const n of r)n();r=[]}};return c.default=p,Object.defineProperty(c,"__esModule",{value:!0}),c})({},vendetta.patcher,vendetta.metro);
