(function(o,c,n,f,E,a,u,p){"use strict";const e=f.storage,{ScrollView:y,View:r}=u.General,{FormSwitchRow:s,FormIcon:i,FormDivider:l,FormRow:v}=u.Forms,{TableRowGroup:m}=n.findByProps("TableRowGroup");function I(){return E.useProxy(e),e.reactions??=!0,e.superreactions??=!0,e.ignorebotreactions??=!0,React.createElement(y,null,React.createElement(r,{style:{marginTop:16,marginHorizontal:16}},React.createElement(r,{style:{marginBottom:16}},React.createElement(m,null,React.createElement(s,{label:"Normal Reactions",subLabel:"Get notifications about normal reactions your messages receive",leading:React.createElement(i,{source:a.getAssetIDByName("ic_add_reaction_v2")}),onValueChange:function(){return e.reactions=!e.reactions},value:e.reactions}),React.createElement(l,null),React.createElement(s,{label:"Super Reactions",subLabel:"Get notifications about super reactions your messages receive",leading:React.createElement(i,{source:a.getAssetIDByName("ic_add_super_reaction")}),onValueChange:function(){return e.superreactions=!e.superreactions},value:e.superreactions}),React.createElement(l,null),React.createElement(s,{label:"Ignore Bot Reactions",subLabel:"Ignore when a bot reacts to your message",leading:React.createElement(i,{source:a.getAssetIDByName("ic_robot_24px")}),onValueChange:function(){return e.ignorebotreactions=!e.ignorebotreactions},value:e.ignorebotreactions}))),React.createElement(r,{style:{marginBottom:16}},React.createElement(m,null,React.createElement(v,{label:"test notification",onPress:function(){p.showToast("not implemented yet",a.getAssetIDByName("Small"))}})))))}const S=n.findByStoreName("SelectedChannelStore"),d=n.findByStoreName("UserStore"),h=n.findByStoreName("MessageStore");n.findByProps("jumpToMessage"),n.findByProps("markdownToHtml");const g=function(t){if(!t.messageAuthorId)return;const b=d.getCurrentUser();if(S.getChannelId()===t.channelId||t.userId===b.id||t.messageAuthorId!==b.id||(t.burst?!e.superreactions:!e.reactions))return;const R=d.getUser(t.userId);!R||R.bot&&e.ignorebotreactions||!h.getMessage(t.channelId,t.messageId)||(t.emoji.id?`${t.emoji.name}`:t.emoji.name,console.log("debug: send notification"))};var _={onLoad:function(){return c.FluxDispatcher.subscribe("MESSAGE_REACTION_ADD",g)},onUnload:function(){return c.FluxDispatcher.unsubscribe("MESSAGE_REACTION_ADD",g)},settings:I};return o.default=_,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta.metro.common,vendetta.metro,vendetta.plugin,vendetta.storage,vendetta.ui.assets,vendetta.ui.components,vendetta.ui.toasts);
