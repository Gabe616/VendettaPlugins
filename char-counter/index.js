(function(y,A,l,R,h,a,d,P,I,c,x){"use strict";const{canUseIncreasedMessageLength:b}=l.findByProps("canUseIncreasedMessageLength");function S(i){return u.commas?i.toString().split("").reverse().map(function(r,t,n){return t%3===0&&n.length>3&&t!==0?`${r},`:r}).reverse().join(""):i.toString()}function w(){return Object.keys(P.plugins).find(function(i){return i.includes("SplitLargeMessages")})?1/0:b()?4e3:2e3}const{Animated:m}=a.ReactNative;function B(i){let{duration:r,children:t,style:n,fade:e,customOpacity:o}=i;const s=a.React.useRef(new m.Value(e==="in"?0:1)).current;return a.React.useEffect(function(){m.timing(s,{toValue:o??(e==="in"?1:0),duration:r,useNativeDriver:!0}).start()},[s,e,o]),a.React.createElement(m.View,{style:[n,{opacity:s}]},t)}const{Text:D}=d.General,{TextStyleSheet:_}=l.findByProps("TextStyleSheet"),f=a.stylesheet.createThemedStyleSheet({text:{..._["text-xs/semibold"],backgroundColor:c.semanticColors.BACKGROUND_TERTIARY,borderRadius:8,textAlign:"right",marginRight:8,marginTop:-12,paddingHorizontal:8,paddingVertical:8},normal:{color:c.semanticColors.TEXT_NORMAL},jinkies:{color:c.semanticColors.TEXT_DANGER}});function N(i){let{inputProps:r}=i;const t=a.React.useRef(null);r.onChangeText?R.after("onChangeText",r,function(s){let[E]=s;return t.current=E},!0):r.onChangeText=function(s){return t.current=s};const n=t.current?.length??0,e=w(),o=f.text.fontSize*2+f.text.paddingVertical;return a.React.createElement(B,{duration:100,style:{flexDirection:"row-reverse",position:"absolute",right:0,top:-o,zIndex:1},fade:n===0?"out":"in"},a.React.createElement(D,{style:{...f.text,color:n<=e?f.normal.color:f.jinkies.color}},S(n),"/",e!==1/0?S(e):"\u221E"))}const{ChatInput:V}=l.findByProps("ChatInput"),{MessagesWrapper:M}=l.findByProps("MessagesWrapper");let g=[];function O(){return g.push(R.after("render",V.prototype,function(i,r){const t=h.findInReactTree(r,function(e){return typeof e?.placeholder=="string"});if(!t?.onChangeText)return;const n=h.findInReactTree(r,function(e){return e?.type?.displayName==="View"&&Array.isArray(e?.props?.children)})?.props?.children;n&&n.unshift(React.createElement(N,{inputProps:t}))})),g.push(R.after("render",M.prototype,function(i,r){const t=h.findInReactTree(r,function(n){return n?.type?.name==="JumpToPresentButton"});t&&g.push(R.after("type",t,function(n,e){e?.props?.style&&(e.props.style[1].bottom+=32+8)}))})),function(){g.forEach(function(i){return i()}),g=[]}}const{TextStyleSheet:F}=l.findByProps("TextStyleSheet"),{View:p,Text:T}=d.General,{FormRow:L}=d.Forms;function z(i){const r=l.findByProps("colors","meta"),t=l.findByStoreName("ThemeStore");return r.meta.resolveSemanticColor(t.theme,i)}function G(i){let{title:r,icon:t,children:n,padding:e}=i;const o=a.stylesheet.createThemedStyleSheet({mainText:{fontFamily:a.constants.Fonts.PRIMARY_SEMIBOLD,fontSize:14,includeFontPadding:!1,letterSpacing:void 0,lineHeight:18,textTransform:"none",color:c.semanticColors.HEADER_SECONDARY},icon:{height:14,tintColor:c.semanticColors.HEADER_SECONDARY},main:{backgroundColor:c.semanticColors.BACKGROUND_TERTIARY,borderRadius:16,overflow:"hidden",flex:1}});return a.React.createElement(p,{style:{marginHorizontal:16,marginTop:16}},a.React.createElement(p,{style:{marginBottom:8,flexDirection:"row",justifyContent:"flex-start",alignItems:"center"}},t&&a.React.createElement(p,{style:{marginRight:4}},a.React.createElement(L.Icon,{style:o.icon,source:t,size:"small"})),a.React.createElement(T,{style:o.mainText},r)),a.React.createElement(p,{style:o.main},e?a.React.createElement(p,{style:{paddingHorizontal:16,paddingVertical:16}},n):n))}var v;(function(i){function r(n){let{children:e,onPress:o}=n;return a.React.createElement(U,{variant:"text-md/bold",onPress:o},e)}i.Bold=r;function t(n){let{children:e,onPress:o}=n;return a.React.createElement(T,{style:{textDecorationLine:"underline"},onPress:o},e)}i.Underline=t})(v||(v={}));function U(i){let{variant:r,lineClamp:t,color:n,align:e,style:o,onPress:s,getChildren:E,children:K,liveUpdate:W}=i;const[Q,X]=a.React.useReducer(function(q){return~q},0),J=new Date().setMilliseconds(1e3);return W&&setTimeout(function(){return X()},J-Date.now()),a.React.createElement(T,{style:[r?F[r]:{},n?{color:z(c.semanticColors[n])}:{},e?{textAlign:e}:{},o??{}],numberOfLines:t,onPress:s},E?.()??K)}const{ScrollView:j}=d.General,{FormSwitchRow:H,FormRow:$}=d.Forms;function k(){return u.commas??=!0,I.useProxy(u),React.createElement(j,null,React.createElement(G,{title:"Settings",icon:x.getAssetIDByName("ic_cog_24px")},React.createElement(H,{label:"Add Thousand Seperators",subLabel:"Adds thousand seperators (1,234,567) to numbers",leading:React.createElement($.Icon,{source:x.getAssetIDByName("ic_message_edit")}),onValueChange:function(){u.commas=!u.commas},value:u.commas})))}const u=A.storage;let C;var Y={onLoad:function(){return C=O()},onUnload:function(){return C?.()},settings:k};return y.default=Y,y.vstorage=u,Object.defineProperty(y,"__esModule",{value:!0}),y})({},vendetta.plugin,vendetta.metro,vendetta.patcher,vendetta.utils,vendetta.metro.common,vendetta.ui.components,vendetta.plugins,vendetta.storage,vendetta.ui,vendetta.ui.assets);
